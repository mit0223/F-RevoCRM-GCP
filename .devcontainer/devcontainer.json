{
  "name": "F-RevoCRM GCP Deploy Environment",
  "image": "mcr.microsoft.com/devcontainers/base:ubuntu",
  "features": {
    "ghcr.io/devcontainers/features/terraform:1": {
      "version": "1.5"
    },
    "ghcr.io/devcontainers/features/docker-in-docker:2": {},
    "ghcr.io/devcontainers/features/common-utils:2": {
      "installZsh": true,
      "configureZshAsDefaultShell": true,
      "installOhMyZsh": true,
      "upgradePackages": true
    }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "HashiCorp.terraform",
        "ms-vscode.vscode-terraform",
        "ms-azuretools.vscode-docker",
        "ms-vscode.makefile-tools",
        "redhat.vscode-yaml",
        "ms-vscode.vscode-json"
      ],
      "settings": {
        "terraform.experimentalFeatures.validateOnSave": true,
        "terraform.experimentalFeatures.prefillRequiredFields": true,
        "terraform.languageServer.enable": true,
        "files.associations": {
          "*.tf": "terraform",
          "*.tfvars": "terraform"
        },
        "editor.formatOnSave": true,
        "[terraform]": {
          "editor.formatOnSave": true,
          "editor.codeActionsOnSave": {
            "source.formatAll.terraform": "explicit"
          }
        },
        "[dockerfile]": {
          "editor.formatOnSave": true
        }
      }
    }
  },
  "postCreateCommand": "bash .devcontainer/post-create.sh",
  "remoteEnv": {
    "DOCKER_BUILDKIT": "1"
  }
}
